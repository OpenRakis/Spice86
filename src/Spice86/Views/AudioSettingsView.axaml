<Window
    x:Class="Spice86.Views.AudioSettingsView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Spice86.ViewModels"
    x:CompileBindings="True"
    x:DataType="vm:AudioSettingsViewModel"
    WindowStartupLocation="CenterOwner"
    ShowInTaskbar="True"
    CanResize="True"
    Title="Audio Settings"
    MinWidth="500"
    MinHeight="400"
    Width="600"
    Height="500"
    mc:Ignorable="d">
    <Design.DataContext>
        <vm:AudioSettingsViewModel />
    </Design.DataContext>
    <ScrollViewer Padding="20">
        <StackPanel Spacing="15">
            <!-- Info Banner -->
            <Border Background="#2196F3" CornerRadius="5" Padding="10">
                <TextBlock Text="Audio hardware settings are configured at startup via CLI options." TextWrapping="Wrap" Foreground="White" />
            </Border>

            <!-- Current Configuration Section -->
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel Spacing="10">
                    <TextBlock Text="Current Configuration" FontWeight="Bold" FontSize="16" />
                    
                    <!-- Sound Blaster Type -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="Sound Blaster Type:" VerticalAlignment="Center" />
                        <StackPanel Grid.Column="1" Orientation="Vertical">
                            <TextBlock Text="{Binding SbType}" FontWeight="SemiBold" VerticalAlignment="Center" />
                            <TextBlock Text="{Binding SbTypeDescription}" Foreground="Gray" FontSize="11" />
                        </StackPanel>
                    </Grid>

                    <!-- OPL Mode -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="OPL Mode:" VerticalAlignment="Center" />
                        <StackPanel Grid.Column="1" Orientation="Vertical">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock Text="{Binding OplMode}" FontWeight="SemiBold" VerticalAlignment="Center" />
                                <TextBlock Text="(AdLib Gold:" VerticalAlignment="Center" Foreground="Gray" />
                                <TextBlock Text="{Binding IsAdlibGoldEnabled}" FontWeight="SemiBold" VerticalAlignment="Center" />
                                <TextBlock Text=")" VerticalAlignment="Center" Foreground="Gray" />
                            </StackPanel>
                            <TextBlock Text="{Binding OplModeDescription}" Foreground="Gray" FontSize="11" />
                        </StackPanel>
                    </Grid>

                    <!-- Base Address -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="Base Address:" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="1" Text="{Binding SbBase, StringFormat='0x{0:X3}'}" FontWeight="SemiBold" VerticalAlignment="Center" />
                    </Grid>

                    <!-- IRQ -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="IRQ:" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="1" Text="{Binding SbIrq}" FontWeight="SemiBold" VerticalAlignment="Center" />
                    </Grid>

                    <!-- DMA -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="8-bit DMA:" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="1" Text="{Binding SbDma}" FontWeight="SemiBold" VerticalAlignment="Center" />
                    </Grid>

                    <!-- High DMA -->
                    <Grid ColumnDefinitions="150,*">
                        <TextBlock Grid.Column="0" Text="16-bit DMA:" VerticalAlignment="Center" />
                        <TextBlock Grid.Column="1" Text="{Binding SbHdma}" FontWeight="SemiBold" VerticalAlignment="Center" />
                    </Grid>
                </StackPanel>
            </Border>

            <!-- BLASTER Environment Variable -->
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel Spacing="10">
                    <TextBlock Text="BLASTER Environment Variable" FontWeight="Bold" FontSize="16" />
                    <TextBox Text="{Binding BlasterString}" IsReadOnly="True" FontFamily="Consolas" />
                    <TextBlock Text="Format: A[base] I[irq] D[dma] H[hdma] T[type]" Foreground="Gray" FontSize="11" />
                </StackPanel>
            </Border>

            <!-- CLI Options Reference -->
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel Spacing="10">
                    <TextBlock Text="CLI Options Reference" FontWeight="Bold" FontSize="16" />
                    <TextBlock Text="Use these command line options to configure audio at startup:" Foreground="Gray" />
                    <TextBox IsReadOnly="True" FontFamily="Consolas" AcceptsReturn="True" Height="150">
                        <TextBox.Text>--SbType &lt;type&gt;
  Values: None, SB1, SB2, SBPro1, SBPro2, Sb16, GameBlaster
  Default: SBPro2

--OplMode &lt;mode&gt;
  Values: None, Opl2, DualOpl2, Opl3, Opl3Gold
  Default: Opl3

--SbBase &lt;address&gt;
  Values: 0x220, 0x240, 0x260, 0x280
  Default: 0x220

--SbIrq &lt;irq&gt;
  Values: 5, 7, 9, 10
  Default: 7

--SbDma &lt;channel&gt;
  Values: 0, 1, 3
  Default: 1

--SbHdma &lt;channel&gt;
  Values: 5, 6, 7
  Default: 5</TextBox.Text>
                    </TextBox>
                </StackPanel>
            </Border>

            <!-- Sound Blaster Types Reference -->
            <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel Spacing="5">
                    <TextBlock Text="Sound Blaster Types Reference" FontWeight="Bold" FontSize="16" Margin="0,0,0,10" />
                    
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="SB1" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Sound Blaster 1.0/1.5 - 8-bit mono, OPL2" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="SB2" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Sound Blaster 2.0 - 8-bit mono, OPL2, auto-init DMA" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="SBPro1" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Sound Blaster Pro - 8-bit stereo, Dual OPL2" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="SBPro2" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Sound Blaster Pro 2 - 8-bit stereo, OPL3 (default)" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="Sb16" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Sound Blaster 16 - 16-bit stereo, OPL3" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="GameBlaster" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Creative Game Blaster - CMS chips, no OPL" />
                    </Grid>
                    <Grid ColumnDefinitions="100,*">
                        <TextBlock Grid.Column="0" Text="Opl3Gold" FontWeight="SemiBold" />
                        <TextBlock Grid.Column="1" Text="Use --OplMode Opl3Gold with Sb16 for AdLib Gold 1000 surround" />
                    </Grid>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Window>
